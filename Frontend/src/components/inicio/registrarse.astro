---
import Layout from "../../layouts/Layout.astro";
import Input from "../hRecuperarContraseña/input.astro";
import Button from "../hRecuperarContraseña/button.astro";
---

<Layout title="Registro">
  <div class="contM justify-center flex flex-col md:flex-row">
    <div class="contM justify-center pt-3 flex flex-col md:flex-row h-screen w-full items-center ">
      <div class="cont1 px-8 grid justify-items-center bg-color4 h-5/6 rounded-s-lg text-color1 flex-col items-center">
        <h1 class="text-2xl">PUP</h1>
        <img class="h-26 w-28" src="../../public/img/logoPUP.png" alt="" />
        <p>Presupuesto para unidades productivas</p>
      </div>

      <div class="cont2 px-8 grid justify-items-center  w-auto text-color1 flex-col items-center  rounded-e-xl h-5/6">
        <form id="formu" class="contform px-8  pb-8">
          <div class="conthf m-4 grid grid-flow-row sm:grid-flow-row-col gap-3 text-center bg-color3">
            <h1 class="text-2xl text-color2">Registro</h1>

            <div >
              <Input placeholder="Nombre" id="registroNombre" type="text" />
              <span id="nombreError" class="text-color7 text-sm"></span>
              <Input placeholder="Correo" id="CorreoRegistro" type="text" />
              <span id="correoError" class="text-color7 text-sm"></span>
              <Input placeholder="Contraseña" id="ContraseñaRegistro" type="text" />
              <span id="contrasenaError" class="text-color7 text-sm"></span>
              <div class="flex-col">

                <select name="identificacion" id="identificacion" class="text-color2" required>
                <option value="">Tipo de identificación</option>
                <option value="cc">Cédula de ciudadanía</option>
                <option value="ti">Tarjeta de identidad</option>
                <option value="otro">Otro</option>
              </select>
              
              

              <Input placeholder="Número" id="numeroDc" type="text" />
              <span id="numeroDcError" class="text-color7 text-sm"></span>
              <div class="flex-col">
<button type="submit">
                <Button Text="Registrarse" />
              </button>
              <p class="text-color6 text-sm text-center">Copyright 2024 - 2025 Sena</p>
              </div>
              

            </div>

           
          </div>
          </div>
          
        </form>
        
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const formu = document.getElementById('formu');
      const nombre = document.getElementById('registroNombre');
      const correoRegistro = document.getElementById('CorreoRegistro');
      const contrasenaRegistro = document.getElementById('ContraseñaRegistro');
      const numeroDc = document.getElementById('numeroDc');
      const nombreError = document.getElementById('nombreError');
      const correoError = document.getElementById('correoError');
      const contrasenaError = document.getElementById('contrasenaError');
      const numeroDcError = document.getElementById('numeroDcError');

      formu.addEventListener('submit', function(event) {
        let valid = true;
        nombreError.textContent = '';
        correoError.textContent = '';
        contrasenaError.textContent = '';
        numeroDcError.textContent = '';

        // Validación del nombre
        const nombreValue = nombre.value;
        if (!nombreValue || !/^[A-Za-z\s]+$/.test(nombreValue)) {
          valid = false;
          nombreError.textContent = 'ingrese un nombre válido.';
        }

        // Validación del correo electrónico
        const correoValue = correoRegistro.value;
        if (!correoValue || !/\S+@\S+\.\S+/.test(correoValue)) {
          valid = false;
          correoError.textContent = 'ingrese un correo electrónico válido.';
        }

        // Validación de la contraseña
        const contrasenaValue = contrasenaRegistro.value;
        if (!contrasenaValue || contrasenaValue.length < 8) {
          valid = false;
          contrasenaError.textContent = 'La contraseña debe tener al menos 8 caracteres.';
        }

        // Validación del número de documento (puedes ajustar según tus necesidades)
        const numeroDcValue = numeroDc.value;
        if (!numeroDcValue || isNaN(numeroDcValue)) {
          valid = false;
          numeroDcError.textContent = 'ingrese un número de documento válido.';
        }

        if (!valid) {
          event.preventDefault();
        }
      });
    });
  </script>
</Layout>
